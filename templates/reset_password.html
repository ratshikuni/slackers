{% extends 'base.html' %}
{% block content %}
<div class="form-container">
  <h2>Set a New Password</h2>
  <form method="POST" action="{{ url_for('reset_password') }}" id="reset-form">
    <label for="password">New Password:</label>
    <input type="password" id="password" name="password" class="form-control" required>
    <input type="hidden" name="oobCode" value="{{ oobCode }}">
    <button type="submit" class="form-btn">Save New Password</button>
    <div class="progress-bar" id="reset-progress" style="display:none;"></div>
  </form>
</div>
<script>
const resetForm = document.getElementById('reset-form');
const resetProgress = document.getElementById('reset-progress');
if (resetForm) {
  resetForm.addEventListener('submit', function() {
    resetProgress.style.display = 'block';
    resetProgress.classList.add('loading');
  });
}
</script>
<style>
.progress-bar.loading {
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, #0078d4 0%, #90caf9 100%);
  animation: progressBarAnim 1.2s linear infinite;
  margin-top: 12px;
  border-radius: 2px;
}
@keyframes progressBarAnim {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}
@media (max-width: 600px) {
  .form-container { margin: 32px 8px; padding: 1rem; }
  .form-btn, .form-control { font-size: 1rem; }
}
</style>
{% endblock %}
